<app-header (menuOrSettingsToggled)="ToggleBlurred($event)"></app-header>

<body [ngClass]="{ 'blurred': blurred }">
<div class="createSuggestion">
<h2 class="createSuggestion__title">Einreichen eines Gericht vorschlags</h2>

  <form [formGroup]="createDishSuggestionForm" (submit)="sendSuggestedDish()">
    <div class="form-group">
      <label for="dishTitle" class="createSuggestion__label">Titel:</label>
      <input id=dishTitle type="text" formControlName="title" placeholder="Name des Gerichts" maxlength=50 class="createSuggestion__input">
      <div
        *ngIf="createDishSuggestionForm.get('title')?.invalid && (createDishSuggestionForm.get('title')?.dirty || createDishSuggestionForm.get('title')?.touched)">
        <span class="createDish__error-message">Titel des Gerichts ist erforderlich.</span>
      </div>
    </div>
    <div class="dishSuggestion__form-group">
      <label for="dishDescription" class="createSuggestion__label">Beschreibung:</label>
      <textarea id="dishDescription" formControlName="description" placeholder="Beschreibe dein Gericht."
                maxlength="150" class="createSuggestion__input"></textarea>
    </div>
    <div class="dishSuggestion__form-group" formArrayName="ingredients">
      <label class="createSuggestion__label">Inhaltsstoffe</label>
      <div *ngFor="let ingredient of ingredients.controls; let i=index" [formGroupName]="i">
        <input formControlName="ingredientName" type="text" class="input"
               placeholder="Inhaltsstoff {{ i + 1 }}">
      </div>
      <button (click)="addIngredient()" type="button">Inhaltsstoff hinzuf√ºgen</button>
    </div>
    <div class="form-group">
      <label class="createSuggestion__label">Bild</label>
      <input type="file" (change)="onImageChange($event)" accept="image/*" class="createSuggestion__input">
    </div>
    <button [disabled]="!createDishSuggestionForm.valid" class="submit-button" type="submit">Vorschlag einreichen</button>
  </form>
</div>
</body>
